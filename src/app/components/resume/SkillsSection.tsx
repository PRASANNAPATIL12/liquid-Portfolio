
import type { FC, SVGProps } from 'react';
import type { Skill } from '@/data/resume';

const JavaLogo: FC<SVGProps<SVGSVGElement>> = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" width="256" height="256" viewBox="0 0 256 256" {...props}>
      <g fill="#FFF" fillRule="evenodd">
        <path d="M141.2,202.8a25.8,25.8,0,0,1,1,3.4,45.2,45.2,0,0,1-3.6,18.8c-4,10.2-10.4,18-20.2,21.8-8.4,3.2-18,4-27,2.8s-16.8-4.6-22.8-10.6c-6-6-9.6-14-10.2-22.8a45.6,45.6,0,0,1,.2-12.8,40.2,40.2,0,0,1,1-3.6c-4.2-1.2-8.2-3.2-11.8-6a38.9,38.9,0,0,1-15.6-18.2c-3.4-8-4-16.8-2-25.2s6.6-15.8,12.4-21.2c5.8-5.4,13-8.6,20.8-9.2a44.9,44.9,0,0,1,10.2.2,23.5,23.5,0,0,1,3.2,1,39.3,39.3,0,0,0,2.6,1c-1.8-6.8-2.2-13.8-1-20.6a55.1,55.1,0,0,1,10-21.6c6.4-9.6,15.6-16.6,26.4-19.6,9.2-2.6,19-2.2,28,1.2s16.8,8.8,22.8,16.4c6,7.6,9.8,16.8,10.8,26.4a56,56,0,0,1-2,23.6c-2.8,8.8-7.6,16.6-14,22.8-5.4,5.2-11.8,9-18.8,11.4a1,1,0,0,1-.2.2,34.4,34.4,0,0,0,5.4,1.8c7.4,2.2,14.6,6.4,19.6,12.8,5.8,6.8,9,15.4,8.8,24.4s-4,17.4-10,24c-6,6.6-14,10.6-22.6,11.4a43.2,43.2,0,0,1-28.6-3.8c-8.2-4.2-14.4-10.4-18.2-18.4a38.3,38.3,0,0,1-3.8-20.6c0-1.4.2-2.8.2-4.2a29.7,29.7,0,0,1,1.2-5.4,49.1,49.1,0,0,0,24-2.8c9.4-2.6,17.8-8,23.8-15.4,6.6-8,10.4-17.8,10.6-28.2a51.1,51.1,0,0,0-5.8-26.2c-5.4-8.6-13.4-15-23-18-8.2-2.4-16.8-2.4-25,0-8.2,2.4-15.4,7-21,13.4s-9,14.4-9.2,22.8c-.2,4.8.8,9.6,2.8,14a1.9,1.9,0,0,0,1.4,1.2,2.2,2.2,0,0,0,2.2-.8c.8-1.2,1.2-2.4,1.8-3.8,2-6.4,6.4-11.8,12.2-15.2,7-4,15.2-5,23.2-2.8,9.2,2.6,16.8,8.2,21.8,16,4.6,7,6.4,15.4,5,24.2a38.4,38.4,0,0,1-6.8,16.6c-5.8,7.4-13.8,12.6-23,14.6-7.8,1.6-15.6.8-22.8-2.2-7.2-3-13.2-7.8-17.2-14-3.4-5.2-5.4-11-5.6-17.2a27.9,27.9,0,0,1,1.8-10.2,2.1,2.1,0,0,0-1.6-2.8,2,2,0,0,0-2.8,1.6,32.4,32.4,0,0,0-2.2,11.8c-.2,7.2,1.8,14.2,5.6,20.2,4.6,7,11,12.8,18.8,16.4,8.4,3.8,17.8,5,27,3.6,10.2-1.6,19.2-6.4,26-13.8,6.8-7.2,11.2-16.6,12.4-26.8s-.6-20.2-6.2-28.6c-5.6-8.6-14.4-14.6-24.6-17-8.6-2-17.4-1.6-25.6,1.4a38.7,38.7,0,0,0-20.8,15.6c-4.8,7.4-7.2,16-6.8,24.8,0,8.2,2.2,16.2,6.4,23,4,6.6,9.6,12,16.4,15.4a33.5,33.5,0,0,0,22,5.4,47.5,47.5,0,0,0,24.8-10.4c-3.6,6.2-8.4,11.4-14.4,15-6.6,3.8-14,6-21.8,6.2Z"/>
        <path d="M182.8,80.4c-4.4-5.2-10-9.2-16.4-11.4a33,33,0,0,0-23.2-1c-11.4,3-20.6,10-26,20-4.2,7.6-6,16.4-5,25.2,1.2,10.4,5.4,20,12.2,27.4,6.8,7.6,15.8,12.8,25.8,15,10.8,2.2,22,1.6,32.2-2.2,10.2-3.8,19-10.4,24.8-19.2,6-9,9-19.8,8.2-30.8s-5.8-20.6-12.2-28.4Z" fill="#F44336"/>
        <path d="M182.8,80.4c-4.4-5.2-10-9.2-16.4-11.4a33,33,0,0,0-23.2-1c-11.4,3-20.6,10-26,20-4.2,7.6-6,16.4-5,25.2,1.2,10.4,5.4,20,12.2,27.4,6.8,7.6,15.8,12.8,25.8,15,10.8,2.2,22,1.6,32.2-2.2,10.2-3.8,19-10.4,24.8-19.2,6-9,9-19.8,8.2-30.8s-5.8-20.6-12.2-28.4Z" fillOpacity=".15"/>
        <path d="M128.4,16.2c-16.4-15.8-40-23-64.2-15.6S16.4,30.8,12.2,53.4,7.8,80.2,18.4,98.6c10.8,18.2,30.2,29.8,51.8,30.8,16.4.8,32.4-4,45-13.4,12.8-9.6,21.8-23.4,25.4-38.8a2.1,2.1,0,0,0-3.8-1.6,45.9,45.9,0,0,1-23.8,36.4C98.4,122.2,80,116,68,103.8c-12-12.2-16.8-28.8-13.8-45.2,3-16.4,13.8-30,28.2-36.4,14.4-6.4,31-5.6,44.6,2.2,13.6,7.8,23.2,21.2,26,36.4a2.1,2.1,0,0,0,4.2-.6c-3-16.8-13.4-31-28.4-38.8-7.4-4-15.6-6.6-24-7.8Z" fill="#5C6BC0"/>
      </g>
    </svg>
  );
  
const Css3Logo: FC<SVGProps<SVGSVGElement>> = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" {...props}>
        <path fill="#2965f1" d="M114.3 0H13.7C6.1 0 0 6.1 0 13.7v100.6c0 7.6 6.1 13.7 13.7 13.7h100.6c7.6 0 13.7-6.1 13.7-13.7V13.7C128 6.1 121.9 0 114.3 0z"/>
        <path fill="#ebebeb" d="m25.9 93.8 3.5-38.1h59.2l-5.6 58.5-24 6.6-24-6.6-1.6-18.4h17.9l.8 9.1 16.9 4.6 16.9-4.6.8-11.1H29.4l-3.5-38.6z"/>
    </svg>
);

const logoComponentMap: Record<string, FC<SVGProps<SVGSVGElement>>> = {
    'sk14': JavaLogo,
    'sk16': Css3Logo,
};

const SkillsSection: FC<{ skills: Skill[] }> = ({ skills }) => {
  const groupedSkills = skills.reduce((acc, skill) => {
    if (!acc[skill.category]) {
      acc[skill.category] = [];
    }
    acc[skill.category].push(skill);
    return acc;
  }, {} as Record<Skill['category'], Skill[]>);

  return (
    <section id="skills" className="py-8">
      <h2 className="font-headline text-gradient text-2.5xl sm:text-4xl font-bold mb-12 text-center">
        Skills & Expertise
      </h2>
      <div className="space-y-12">
        {Object.entries(groupedSkills).map(([category, skillsInCategory]) => (
          <div key={category}>
            <h3 className="font-headline text-gradient text-2xl mb-8 text-center">{category}</h3>
            <div className="flex flex-wrap justify-center items-center gap-y-8 gap-x-10">
              {skillsInCategory.map((skill) => {
                const LogoComponent = logoComponentMap[skill.id];
                return (
                    <div key={skill.id} className="flex flex-col items-center gap-3 text-center w-24">
                        <div className="w-20 h-20 p-4 bg-primary/10 rounded-2xl flex items-center justify-center glass-card hover:bg-primary/20 transition-all duration-300 transform hover:scale-110">
                        <div className="relative w-12 h-12">
                            {LogoComponent ? (
                            <LogoComponent className="w-full h-full object-contain" data-ai-hint="logo" />
                            ) : skill.logoUrl ? (
                            <img
                                src={skill.logoUrl}
                                alt={`${skill.name} logo`}
                                className="w-full h-full object-contain"
                                data-ai-hint="logo"
                            />
                            ) : null}
                        </div>
                        </div>
                        <p className="text-sm font-medium text-muted-foreground font-code">{skill.name}</p>
                    </div>
                );
              })}
            </div>
          </div>
        ))}
      </div>
    </section>
  );
};

export default SkillsSection;
